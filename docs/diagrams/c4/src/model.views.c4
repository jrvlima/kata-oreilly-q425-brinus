views {

    view index of mobiltiy_corp {

        title 'MobilityCorp / C4 / System Context View'

        description """
        # MobilityCorp System Context View

        This diagram provides an overview of the MobilityCorp system and its interactions with external actors and systems.

        """

        include customer
        include mobiltiy_corp_staff
        include vehicle_Bay_device

        include mobiltiy_corp

        include applications
        
        include edge_ingest_gateway
        include api_gateway

        include microservices

        include platform

        include ai_analytics

        include maas
        include omf

    }

    /**
     * @likec4-generated(v1)
     * iKRoYXNo2SgwYmViN2NlNDhmNDU5NjM3N2E5MTg0NmVlZDVjOWM1ZGUwY2ZmMGJmqmF1dG9MYXlvdXSBqWRpcmVjdGlvbqJUQqF40f8moXnspXdpZHRozRFmpmhlaWdodM0L0aVub2Rlc94AIahjdXN0b21lcoKhYpTNA+rszQFNzLShY8KzbW9iaWx0aXlfY29ycF9zdGFmZoKhYpTNBhvwzQFPzLShY8KydmVoaWNsZV9CYXlfZGV2aWNlgqFilM0JWizNAVfMtKFjwq1tb2JpbHRpeV9jb3JwgqFilM0BUs0Bjs0Krc0JZqFjw6RtYWFzgqFilNH/Js0CwM0Becy0oWPCo29tZoKhYpTR/yzNAZ/NAVrMtKFjwrttb2JpbHRpeV9jb3JwLm1pY3Jvc2VydmljZXOCoWKUzQF8zQOzzQNUzQR/oWPDum1vYmlsdGl5X2NvcnAuYWlfYW5hbHl0aWNzgqFilM0Bes0Iac0D880CY6Fj
     * w7ptb2JpbHRpeV9jb3JwLmFwcGxpY2F0aW9uc4KhYpTNA6/NAcXNBTrNARehY8PZIW1vYmlsdGl5X2NvcnAuZWRnZV9pbmdlc3RfZ2F0ZXdheYKhYpTNCPHNA6fNAU3MtKFjwrltb2JpbHRpeV9jb3JwLmFwaV9nYXRld2F5gqFilM0Fls0Dms0BQsy0oWPCtm1vYmlsdGl5X2NvcnAucGxhdGZvcm2CoWKUzQZbzQUqzQV8zQTooWPD2Sttb2JpbHRpeV9jb3JwLm1pY3Jvc2VydmljZXMuYm9va2luZ19zZXJ2aWNlgqFilM0DPM0Gg80BY8y0oWPC2Tdtb2JpbHRpeV9jb3JwLm1pY3Jvc2VydmljZXMuY3VzdG9tZXJfbWFuYWdlbWVudF9zZXJ2aWNlgqFilM0BqM0D6c0BcMy0oWPC2Sptb2JpbHRpeV9jb3JwLm1pY3Jvc2VydmljZXMucmV0dXJuX3NlcnZpY2WCoWKUzQGm
     * zQTFzQFfzLShY8LZK21vYmlsdGl5X2NvcnAubWljcm9zZXJ2aWNlcy5wYXltZW50X3NlcnZpY2WCoWKUzQM2zQTKzQFtzLShY8LZMm1vYmlsdGl5X2NvcnAubWljcm9zZXJ2aWNlcy5iYXlfbWFuYWdlbWVudF9zZXJ2aWNlgqFilM0DOs0HS80BZcy0oWPC2UZtb2JpbHRpeV9jb3JwLm1pY3Jvc2VydmljZXMuYmlrZV9zY29vdGVyX2NoYXJnaW5nX2Rpc3RyaWJ1dGlvbl9zZXJ2aWNlgqFilM0Bp80Fsc0BbMy2oWPC2T1tb2JpbHRpeV9jb3JwLm1pY3Jvc2VydmljZXMudmVpaGNsZXNfZmxlZXRfbWFuYWdlbWVudF9zZXJ2aWNlgqFilM0DPM0Fsc0BbMy0oWPC2TVtb2JpbHRpeV9jb3JwLm1pY3Jvc2VydmljZXMudmVpaGNsZXNfdHJhY2tpbmdfc2VydmljZYKhYpTN
     * AaTNBoLNAVPMtKFjwtktbW9iaWx0aXlfY29ycC5taWNyb3NlcnZpY2VzLnRlbGVtZXRyeV9zZXJ2aWNlgqFilM0Brc0HVs0BRcy0oWPC2SJtb2JpbHRpeV9jb3JwLmFpX2FuYWx5dGljcy5yYWdfYXBpgqFilM0D1M0Im80BY8y0oWPC2Sltb2JpbHRpeV9jb3JwLmFpX2FuYWx5dGljcy5lbWJlZF9waXBlbGluZYKhYpTNA+XNCfDNAWDMtKFjwtkkbW9iaWx0aXlfY29ycC5haV9hbmFseXRpY3MudmVjdG9yX2RigqFilM0Bos0JJ80BaszIoWPC2Sdtb2JpbHRpeV9jb3JwLmFwcGxpY2F0aW9ucy5jdXN0b21lcl9hcHCCoWKUzQPXzQH3zQFQzLShY8LZIm1vYmlsdGl5X2NvcnAuYXBwbGljYXRpb25zLndlYl9hcHCCoWKUzQWNzQIAzQFNzLShY8LZJG1vYmlsdGl5X2Nv
     * cnAuYXBwbGljYXRpb25zLnN0YWZmX2FwcIKhYpTNB2DNAfvNAWHMtKFjwtkmbW9iaWx0aXlfY29ycC5wbGF0Zm9ybS5zY2hlbWFfcmVnaXN0cnmCoWKUzQpvzQagzQFAzLShY8LZJW1vYmlsdGl5X2NvcnAucGxhdGZvcm0ubWVzc2FnZV9icm9rZXKCoWKUzQhrzQaMzQFPzMihY8LZJG1vYmlsdGl5X2NvcnAucGxhdGZvcm0ucmVhZF9tb2RlbF9kYoKhYpTNBqHNB8HNAWjMyKFjwtkibW9iaWx0aXlfY29ycC5wbGF0Zm9ybS5kYXRhX2xheWVyc4KhYpTNB6jNCS3NAUjMtKFjwrttb2JpbHRpeV9jb3JwLnBsYXRmb3JtLm90ZWyCoWKUzQaDzQVczQFGzLShY8LZKW1vYmlsdGl5X2NvcnAucGxhdGZvcm0uYmF0Y2hfb3JjaGVzdHJhdG9ygqFilM0KVc0JNs0BVcy0oWPC
     * pWVkZ2Vz3gAepzF4bjA1YmiDomNwkYKheMtAkigugD6nZ6F5y0BwbmZmZmZmoWyEoXjLQJIeAAAAAAChectAdLgAAAAAAKV3aWR0aCSmaGVpZ2h0EqFwlJLNBOXMtJLNBNPM8JLNBLvNAUGSzQSpzQGApzFtaXBuYTGDomNwkYKheMtAlKo2qidEI6F5y0BwmZmZmZmaoWyEoXjNBWKhec0BUKV3aWR0aCSmaGVpZ2h0EqFwlJLNBUrMtJLNBX7M8ZLNBcLNAUOSzQX3zQGBpzE3MzhyYjaDomNwkYKheMtAnPbDAqSpj6F5y0BwrmZmZmZmoWyEoXjLQJ2mAAAAAAChectAdPgAAAAAAKV3aWR0aCSmaGVpZ2h0EqFwlJLNB27MtJLNB47M8ZLNB7nNAUKSzQfazQGApzEyMjhtdDCDomNwkYKheMtAmjdmZmZmZqF5y0BwxmZmZmZmoWyEoXjNBnuhec0BUqV3aWR0aCSmaGVpZ2h0
     * EqFwlJLNBwfMtJLNBuDM8ZLNBq3NAUKSzQaGzQGBpzFxNWNkOG+DomNwkYKheMtAlKM3mVsJKqF5y0CHlZmZmZmaoWyEoXjNBVuhectAiRQAAAAAAKV3aWR0aCSmaGVpZ2h0EqFwlJLNBQbNAj2SzQVBzQJoks0FiM0Cm5LNBcTNAsanMTQyeDJoNoOiY3CRgqF4y0CdZYBO9YNkoXnLQIesAAAAAAChbISheM0HJKF5y0CJJAAAAAAApXdpZHRoJKZoZWlnaHQSoXCUks0HkM0CPZLNB1TNAmiSzQcMzQKbks0Gzs0CxqY5OXhkeDiDomNwkYKheMtAmNNt5IbeSKF5zQL5oWyEoXjNBjWhec0DJ6V3aWR0aCSmaGVpZ2h0EqFwlJLNBkjNAj2SzQZIzQJmks0GSM0Cl5LNBkjNAsKmZXdzNGwzg6JjcJGCoXjLQKPAHHHHHHKhectAe1TMzMzMzKFshKF4y0CjnQAAAAAAoXnLQIIc
     * AAAAAACld2lkdGh+pmhlaWdodBKhcJeSzRCMzQI9ks0QUM0CXpLNEAbNAoCSzQ+/zQKQks0OHs0C8JLNDCfNAxOSzQsizQMfpzFleWVqdzaDomNwkYKheMtAmkdHrhR64aF5zQSfoWyEoXjLQJq6AAAAAAChec0E1aV3aWR0aMyCpmhlaWdodBKhcNwAFpLNBafNAzCSzQRczQNEks0Bgs0DeZLNAS/NA8WS/M0E35LQ1s0GhZLNAS/NB2+SzQGMzQeuks0Etc0HhZLNBSHNB6OSzQYLzQfiks0GIc0ITZLNBwXNCJ6SzQeuzQjbks0H380I1ZLNCJHNCPGSzQmLzQkYks0J080I65LNCsjNCS2SzQrXzQkxks0K580JNpLNCvbNCTynMW45NjhqOYOiY3CRgqF4y0Ci04L3NJBCoXnLQJQNMzMzMzOhbISheM0JVqF5y0CVzgAAAAAApXdpZHRofaZoZWlnaHQSoXCdks0Kqc0DgJLN
     * CsrNA7uSzQrszQQNks0K7M0EW5LNCuzNBFuSzQrszQRbks0K7M0G7pLNCuzNBy2SzQrYzQc8ks0KtM0Hb5LNCqXNB4WSzQp9zQerks0KVc0H0Kcxbnh2bnc5g6JjcJGCoXjNCkShec0E+aFshKF4zQp6oXnNBXGld2lkdGjMj6ZoZWlnaHQSoXCUks0KY80DgJLNCkjNBDSSzQoJzQXMks0J7M0GiaYyZnBmaW+DomNwkYKheMtAoVCkjgA7/aF5y0CSoGZmZmZmoWyEoXjNCF+hectAk24AAAAAAKV3aWR0aMyCpmhlaWdodBKhcJqSzQsYzQNqks0Lds0DnZLNC9rNA+ySzQvazQRbks0L2s0EW5LNC9rNBFuSzQvazQg7ks0L2s0IjZLNC8rNCOmSzQu8zQktpmthZWQ0NoOiY3CRgqF4y0Cgplw1r3jLoXnLQJ3SzMzMzM2hbISheM0INKF5y0CeKgAAAAAApXdpZHRozICmaGVp
     * Z2h0EqFwlJLNCd3NCJ+SzQndzQjIks0J3c0I+JLNCd3NCSKnMWtieXV6bYOiY3CRgqF4y0ChxwAAAAAAoXnLQKB/AAAAAAChbISheM0I4KF5y0CglQAAAAAApXdpZHRoGaZoZWlnaHQSoXCUks0JXc0Im5LNCR7NCMqSzQjTzQkCks0Ilc0JMacxMWlkemFug6JjcJGCoXjLQKB2nIj32N6hectAmZszMzMzM6FshKF4y0CgKQAAAAAAoXnNBk6ld2lkdGjMgqZoZWlnaHQSoXCXks0KOs0In5LNClfNCLuSzQp3zQjYks0Kl80I8ZLNCrXNCQiSzQrWzQkeks0K980JMqcxZHQ4bTF5g6JjcJGCoXjLQKRxAAAAAAChec0G5qFshKF4y0CkKQAAAAAAoXnLQJuaAAAAAACld2lkdGhPpmhlaWdodBKhcJeSzQmrzQdHks0Jo80HWpLNCZvNB2+SzQmWzQeDks0Jkc0Hm5LNCZTNB7SS
     * zQmczQfLpmt3enp4NIOiY3CRgqF4y0CitjMzMzMzoXnLQKMVDoybCzihbISheMtAo0UAAAAAAKF5y0CjFwAAAAAApXdpZHRoLKZoZWlnaHQSoXCXks0H6M0J65LNB9/NCgmSzQfazQoqks0H5c0KSJLNB+vNClqSzQf0zQpsks0IAM0KfKcxamRmcmRrg6JjcJGCoXjLQKPVAAAAAAChectAoj0AAAAAAKFshKF4y0CjRwAAAAAAoXnLQKJPAAAAAACld2lkdGgspmhlaWdodBKhcJSSzQhJzQqEks0IQM0KWJLNCDXNCiKSzQgrzQn1pnJnaWRyeIOiY3CRgqF4y0CbwszMzMzNoXnLQKOcbQWnKs2hbISheMtAmdoAAAAAAKF5y0CjzwAAAAAApXdpZHRoLKZoZWlnaHQSoXCUks0Hcs0JyJLNBr/NCgOSzQWjzQpiks0E6M0Kn6cxOXF3MnFrg6JjcJGCoXjLQJaOZmZmZmahectA
     * oUSVOT+nMaFshKF4zQXsoXnLQKEbAAAAAACld2lkdGh+pmhlaWdodBKhcJqSzQOkzQiUks0D6s0IuJLNBD/NCN+SzQSSzQjxks0GeM0JXZLNBwzNCL6SzQjxzQktks0JAM0JMJLNCQ/NCTWSzQkezQk5pmdoaW9wa4OiY3CRgqF4y0CXygAAAAAAoXnLQKJYRjEAZbahbISheMtAmb4AAAAAAKF5zQk/pXdpZHRoVqZoZWlnaHQSoXCXks0DSc0IlJLNA2TNCLaSzQOIzQjbks0Dsc0I8ZLNA8XNCPySzQYxzQlQks0HaM0JeacxMGw2dWV4g6JjcJGCoXjNA5ihectAommS6GTXb6FshKF4zQNwoXnLQKJ/AAAAAACld2lkdGjMhaZoZWlnaHQSoXCXks0DEc0IlJLNAxXNCSmSzQMhzQpeks0DR80LYJLNA0vNC36SzQNSzQueks0DWc0LvKZyendtdjCDomNwkYKheMtAjR8zMzMz
     * M6F5y0Cj84vz3nYZoWyEoXjLQIvEAAAAAAChectAo9cAAAAAAKV3aWR0aDSmaGVpZ2h0EqFwlJLNA/zNCziSzQPmzQthks0Dys0LkpLNA7LNC72mZDlheWx4g6JjcJGCoXjLQIDiZmZmZmahectAizU5nSN/SKFshKF4y0CI1AAAAAAAoXnNA4mld2lkdGhfpmhlaWdodBKhcJqSzQ6yzQI9ks0Oks0CTZLNDnDNAluSzQ5PzQJlks0MSM0C/ZLNC63NApmSzQmTzQLMks0Iqs0C4pLNB57NAv+SzQbzzQMSpm5hcWUyN4OiY3CRgqF4y0CAV+5lmzIkoXnLQIU8WAdxH1ahbISheM0DDqF5y0CHxAAAAAAApXdpZHRoaKZoZWlnaHQSoXCUks0Mvs0CA5LNC2HNAkCSzQhPzQLKks0G880DB6ZzbXQyb3iDomNwkYKheMtAl06rUFGIIaF5y0CRiszMzMzNoWyEoXjNBWChectAkqYA
     * AAAAAKV3aWR0aHqmaGVpZ2h0EqFwlJLNBkjNA4CSzQZIzQOSks0GSM0DppLNBkjNA7unMXA1MGxmcoOiY3CRgqF4y0CgbDMzMzMzoXnLQJJn0eSoV+2hbISheMtAm6IAAAAAAKF5zQT6pXdpZHRoWqZoZWlnaHQSoXCUks0Jys0DLJLNCRXNAzaSzQfvzQNYks0HB80DwaZzcXBsMTSDomNwkYKheM0G8qF5y0CcogAAAAAAoWyEoXjLQJpSAAAAAAChec0HGKV3aWR0aMygpmhlaWdodBKhcJeSzQcizQdpks0HJs0Ha5LNByvNB22SzQcvzQdvks0H1c0HuJLNCJ7NB++SzQkrzQgSpm5rM3FsOYOiY3CRgqF4y0CaCTMzMzMzoXnLQJdsfHqTUaihbISheMtAlsIAAAAAAKF5zQXhpXdpZHRozIKmaGVpZ2h0EqFwmpLNBuPNB2+SzQd6zQf4ks0IZc0Iw5LNCNHNCPGSzQmgzQlJ
     * ks0J780I8JLNCsjNCS2SzQrXzQkxks0K580JNpLNCvbNCTynMW50NzZ3b4OiY3CRgqF4y0CfYTMzMzMzoXnLQJtBTfPTUhehbISheMtAmnIAAAAAAKF5y0CaZgAAAAAApXdpZHRozLCmaGVpZ2h0EqFwmpLNCXDNB9eSzQlNzQe3ks0JJ80HkpLNCQbNB2+SzQgozQaFks0IDM0GMpLNBzHNBUWSzQcuzQVCks0HLM0FP5LNBynNBTw=
     */
    view full of mobiltiy_corp {
        title 'MobilityCorp / C4 / Full System Context View'
        description """
        # MobilityCorp System Context View

        This diagram provides an overview of the MobilityCorp system and its interactions with external actors and systems.

        """

        include customer
        include mobiltiy_corp_staff

        include vehicle_Bay_device

        include mobiltiy_corp

        include applications
        include applications.*

        include api_gateway
        include edge_ingest_gateway

        include microservices
        include microservices.*


        include platform
        include platform.*

        include ai_analytics
        include ai_analytics.*

        include maas
        include omf
    }

    
    /**
     * @likec4-generated(v1)
     * iKRoYXNo2Sg2MWM2NDE5MmQwNGY3OWU0NGNmYWU5MDJjMTRlNjBjN2I4YTk1YTFhqmF1dG9MYXlvdXSBqWRpcmVjdGlvbqJUQqF4AaF50MSld2lkdGjNCuamaGVpZ2h0zQcHpW5vZGVz3gAQsnZlaGljbGVfQmF5X2RldmljZYKhYpTNAn7Qys0BV8y0oWPC2SFtb2JpbHRpeV9jb3JwLmVkZ2VfaW5nZXN0X2dhdGV3YXmCoWKUzQVF0MTNAU3MtKFjwrZtb2JpbHRpeV9jb3JwLnBsYXRmb3JtgqFilM0BDM0BKM0H1s0Fo6Fjw9klbW9iaWx0aXlfY29ycC5wbGF0Zm9ybS5tZXNzYWdlX2Jyb2tlcoKhYpTNAwPNAVrNBbfNAtOhY8PZIm1vYmlsdGl5X2NvcnAucGxhdGZvcm0uZGF0YV9sYXllcnOCoWKUzQOQzQSIzQOezQEpoWPD2SRtb2JpbHRpeV9jb3JwLnBsYXRmb3Jt
     * LnJlYWRfbW9kZWxfZGKCoWKUzQE0zQMUzQFozMihY8LZKW1vYmlsdGl5X2NvcnAucGxhdGZvcm0uYmF0Y2hfb3JjaGVzdHJhdG9ygqFilM0E9M0F780BVcy0oWPC2TZtb2JpbHRpeV9jb3JwLnBsYXRmb3JtLm1lc3NhZ2VfYnJva2VyLnN0cmVhbV9wcm9jZXNzb3KCoWKUzQTVzQL2zQO9zQEPoWPD2Sxtb2JpbHRpeV9jb3JwLnBsYXRmb3JtLm1lc3NhZ2VfYnJva2VyLnF1ZXVlc4KhYpTNAyvNAYzNBVvNAQyhY8PZNm1vYmlsdGl5X2NvcnAucGxhdGZvcm0uZGF0YV9sYXllcnMub2JqZWN0X3N0b3JlX2Jyb256ZYKhYpTNBbXNBMHNAVHMyKFjwtk1bW9iaWx0aXlfY29ycC5wbGF0Zm9ybS5kYXRhX2xheWVycy50aW1lc2VyaWVzX29sYXBfZGKCoWKUzQO4zQS6zQFt
     * zMihY8LZR21vYmlsdGl5X2NvcnAucGxhdGZvcm0ubWVzc2FnZV9icm9rZXIuc3RyZWFtX3Byb2Nlc3Nvci5rc3FsZGJfcGlwZWxpbmVzgqFilM0HKs0DKM0BQMy0oWPC2UFtb2JpbHRpeV9jb3JwLnBsYXRmb3JtLm1lc3NhZ2VfYnJva2VyLnN0cmVhbV9wcm9jZXNzb3IuZmxpbmtfam9ic4KhYpTNBP3NAynNAUDMtKFjwtk9bW9iaWx0aXlfY29ycC5wbGF0Zm9ybS5tZXNzYWdlX2Jyb2tlci5xdWV1ZXMudG9waWNfcmF3X2V2ZW50c4KhYpTNBUfNAcHNAWLMrKFjwtlEbW9iaWx0aXlfY29ycC5wbGF0Zm9ybS5tZXNzYWdlX2Jyb2tlci5xdWV1ZXMudG9waWNfaW52ZW50b3J5X3VwZGF0ZXOCoWKUzQNTzQG+zQFAzKyhY8LZOW1vYmlsdGl5X2NvcnAucGxhdGZvcm0u
     * bWVzc2FnZV9icm9rZXIucXVldWVzLnRvcGljX2FsZXJ0c4KhYpTNBx7NAcTNAUDMrKFjwqVlZGdlc4umZXdzNGwzg6JjcJGCoXjLQJENmZmZmZqhectAQM1YCnFsWaFshKF4zQSNoXkhpXdpZHRofqZoZWlnaHQSoXCUks0J+s0BGpLNCkLNARqSzQqVzQEaks0K3c0BGqcxMzBuOHdkg6JjcJGCoXjLQJfAruQeanWhectAa1ZmZmZmZqFshKF4zQXyoXnLQHHIAAAAAACld2lkdGhBpmhlaWdodBKhcJqSzQrnzQFkks0Kr80BeZLNCm7NAY+SzQoxzQGcks0Jy80BsZLNBu7NAbOSzQaLzQHTks0GZM0B4JLNBjzNAfWSzQYZzQILpmNxYXRvcYOiY3CRgqF4y0CXUZmZmZmaoXnLQIUrMzMzMzOhbISheM0Fy6F5zQLLpXdpZHRoR6ZoZWlnaHQSoXCUks0Fo80CEZLNBaPNAeSS
     * zQWjzQGtks0Fo80BfqZ1bjJhZnSDomNwkYKheMtAk8gUFuErHKF5y0CHfZmZmZmaoWyEoXjLQJMWAAAAAAChectAhkwAAAAAAKV3aWR0aEGmaGVpZ2h0EqFwlJLNBSvNAXOSzQTszQGiks0Ens0B3JLNBF/NAgunMTBiZjRsd4OiY3CRgqF4y0CaZnGwLScboXnLQGtzMzMzMzOhbISheMtAm1oAAAAAAKF5zQEepXdpZHRoQaZoZWlnaHQSoXCXks0K580BW5LNCq7NAXGSzQptzQGIks0KMc0BnJLNCXfNAdiSzQiezQITks0IDM0COqZ1Y3IzMnKDomNwkYKheMtAmeKkhVGNHqF5y0CHjAAAAAAAoWyEoXjLQJrCAAAAAAChectAhmQAAAAAAKV3aWR0aEGmaGVpZ2h0EqFwlJLNBhvNAXOSzQZazQGiks0GqM0B3JLNBufNAgumY24zczhng6JjcJGCoXjLQJhperJZTi2hectA
     * iP5mZmZmZqFshKF4zQYqoXnNA5eld2lkdGjMv6ZoZWlnaHQSoXCUks0FUM0CvJLNBR7NAvCSzQTdzQMyks0EqM0Daacxb3NrcWp5g6JjcJGCoXjLQJSn2MJV9MqhectAkH0zMzMzM6FshKF4y0CUJgAAAAAAoXnLQJEuAAAAAACld2lkdGhWpmhlaWdodBKhcNwAEJLNBSfNAXSSzQULzQGEks0E680Bk5LNBMzNAZySzQRazQG8ks0BF80Bl5LMo80BsJJ8zQG4kmbNAbKSUM0B05IEzQJIkgHNApqSUM0DDZLMn80DfZLNATXNA6+SzQGwzQPEpm9pZ3NwcYOiY3CRgqF4y0CRGTMzMzMzoXnLQIv4OMHLPEShbISheMtAjmQAAAAAAKF5zQN+pXdpZHRozICmaGVpZ2h0EqFwmpLNBSPNAXOSzQUHzQGDks0E6c0BkpLNBMzNAZySzQTMzQGcks0DAc0B05LNAwHNAdOSzQLizQHe
     * ks0Cws0B7pLNAqXNAf+nMTR5a215YYOiY3CRgqF4y0CYIEsL7FyVoXnLQJaeZmZmZmahbISheM0F+6F5zQW8pXdpZHRoLKZoZWlnaHQSoXCUks0D480EOZLNA7vNBGSSzQONzQSWks0DZs0EwKY3b2wzbDiDomNwkYKheMtAk9WtHv51eKF5y0CWiszMzMzNoWyEoXjLQJQuAAAAAAChectAluIAAAAAAKV3aWR0aCymaGVpZ2h0EqFwlJLNAqHNBDmSzQK0zQRjks0Cy80ElJLNAt/NBL4=
     */
    view telemetry of mobiltiy_corp {

        title 'MobilityCorp / C4 / Telemetry Pipeline Container View'

        description """
        # MobilityCorp Container View - Telemetry Pipeline

        This diagram illustrates the telemetry data pipeline within the MobilityCorp system, detailing the flow of data from IoT devices to various processing and storage components.

        """

        include vehicle_Bay_device

        include edge_ingest_gateway

      
        include stream_processor
        include stream_processor.*

        include queues
        include queues.topic_raw_events
        include queues.topic_inventory_updates
        include queues.topic_alerts

        include object_store_bronze

        include timeseries_olap_db

        include read_model_db

        include batch_orchestrator

    }

    view customer_app of mobiltiy_corp {
      title 'MobilityCorp / C4 / Customer Application Container View'
        description """
        # MobilityCorp Customer Application - Container View

        This diagram provides a detailed view of the Customer Application within the MobilityCorp system, highlighting its components and interactions.

        """

        include customer
        include applications.customer_app.*
        include applications.web_app
        include omf
        include maas
        include api_gateway
        include microservices
        include platform

    }

    view staff_app of mobiltiy_corp {
        title 'MobilityCorp / C4 / Staff Application Container View'
        description "This diagram provides a detailed view of the Staff Application within the MobilityCorp system, highlighting its components and interactions."

        include mobiltiy_corp_staff
        include oncall_engineer
        include applications.staff_app
        include applications.web_app

        include omf
        include maas

        include api_gateway
        include microservices
        include platform
    }

    
    dynamic view fresh_availability {
        title 'Dynamic / Return triggers availability update'

        // Steps
        mobiltiy_corp.edge_ingest_gateway -> mobiltiy_corp.platform.message_broker.queues.topic_raw_events
        'Publish telemetry CloudEvent (vehicle returned)'
        mobiltiy_corp.microservices.booking_service -> mobiltiy_corp.platform.message_broker.queues.topic_domain_events
        'Publish return_completed'

        mobiltiy_corp.platform.message_broker.queues.topic_raw_events
        -> mobiltiy_corp.platform.stream_processor
        'Consume telemetry (event-time; WM=5m)'

        mobiltiy_corp.platform.message_broker.queues.topic_domain_events
        -> mobiltiy_corp.platform.stream_processor
        'Consume booking events'

        mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.message_broker.queues.topic_inventory_updates
        'Publish availability update'

        mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.read_model_db
        'UPSERT available_vehicles (idempotent)'

  }


  dynamic view burst_tolerance {
    title 'Dynamic / Spike 2k→12k events; no loss; lag drains'

    mobiltiy_corp.edge_ingest_gateway
      -> mobiltiy_corp.platform.message_broker.queues.topic_raw_events
      'Burst publish (2k→12k events)'

    mobiltiy_corp.platform.message_broker.queues.topic_raw_events
      -> mobiltiy_corp.platform.stream_processor
      'Consume via partitions & parallel subtasks'

    // Parallel: continue publishing + emit metrics
    parallel {
      mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.message_broker.queues.topic_inventory_updates
        'Continue publishing (no drops)'

      mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.otel
        'Emit metrics: consumer_lag↑, backpressure↑'
    }

    mobiltiy_corp.platform.otel -> oncall_engineer
      'Alert: lag > threshold; observe drain to steady state'

    include
      mobiltiy_corp.edge_ingest_gateway,
      mobiltiy_corp.platform.message_broker.queues.topic_raw_events,
      mobiltiy_corp.platform.stream_processor,
      mobiltiy_corp.platform.message_broker.queues.topic_inventory_updates,
      mobiltiy_corp.platform.otel,
      oncall_engineer
  }

  dynamic view exactly_once_projection {
    title 'Dynamic / Restart + checkpoint resume; idempotent upserts'

    mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.read_model_db
        'UPSERT available_vehicles with stable PK'

    mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.otel
        'Checkpoint N; TX begin' {
        notes '
        **Mechanism**
        - Flink checkpoint barriers
        - Kafka transactions / idempotent sink
        '
        }

    mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.otel
        'Failure detected (OOM) & alert emitted' {
        notes 'Flink reports task failure; Kubernetes restarts TaskManager'
        }

    mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.otel
        'Restore from checkpoint N'

    mobiltiy_corp.platform.stream_processor
        -> mobiltiy_corp.platform.read_model_db
        'Re-apply idempotent upserts (0 dupes)'

    include
        mobiltiy_corp.platform.stream_processor,
        mobiltiy_corp.platform.read_model_db,
        mobiltiy_corp.platform.otel

        
    }



}
